# 添加菜单

首先不管主界面和功能，先把菜单搞上去

## `main.js`

需要对 `main.js` 进行修改：
1. 在最开始添加 `menu` 相关的模块:  `const Menu = require('electron').Menu `
2. 添加初始菜单功能函数: 
```
function initMenu() {
    // 模板
    let template = [
        {
            label: "文件",
            submenu: [
                {
                    label: "新建",
                    accelerator: 'Ctrl+N',
                    click: function (item, focusedWindow, event) {
                    }
                },
                {
                    label: "打开...",
                    accelerator: 'Ctrl+O',
                    click: function (item, focusedWindow, event) {
                    }
                },
                {
                    label: "保存",
                    accelerator: 'Ctrl+S',
                    click: function (item, focusedWindow, event) {
                    }
                },
                {
                    label: "另存为...",
                    click: function (item, focusedWindow, event) {
                    }
                },
                {
                    // 分隔符
                    type: "separator"
                },
                {
                    label: "退出",
                    role: 'quit'
                }
            ]
        },
        {
            label: '编辑',
            submenu: [
                {
                    label: '撤销',
                    accelerator: 'Ctrl+Z',
                    // 使用 role 的时候会使用原生的功能，如果配置click，role就失效
                    role: 'undo'
                },
                {
                    label: '重做',
                    accelerator: 'Ctrl+Y',
                    role: 'redo'
                },
                {
                    type: 'separator'
                },
                {
                    label: '剪切',
                    accelerator: 'Ctrl+X',
                    role: 'cut'
                },
                {
                    label: '复制',
                    accelerator: 'Ctrl+C',
                    role: 'copy'
                },
                {
                    label: '粘贴',
                    accelerator: 'Ctrl+V',
                    role: 'paste'
                },
                {
                    label: '删除',
                    accelerator: 'Delete',
                    role: 'delete'
                },
                {
                    type: 'separator'
                },
                {
                    label: '查找...',
                    accelerator: 'Ctrl+F',
                    click: function (item, focusedWindow, event) {
                    }
                },
                {
                    label: '替换...',
                    accelerator: 'Ctrl+F',
                    click: function (item, focusedWindow, event) {
                    }
                },
                {
                    label: '转到...',
                    accelerator: 'Ctrl+G',
                    click: function (item, focusedWindow, event) {
                    }
                },
                {
                    type: 'separator'
                },
                {
                    label: '全选',
                    accelerator: 'Ctrl+A',
                    role: 'selectAll'
                }
            ]
        },
        {
            label: '格式',
            submenu: [
                {
                    label: '自动换行',
                    type: 'checkbox'
                },
                {
                    label: '字体...',
                    click: function (item, focusedWindow, event) {
                    }
                }
            ]
        },
        {
            label: '帮助',
            submenu: [
                {
                    label: '关于',
                    click: function (item, focusedWindow, event) {
                    }
                }
            ]
        }
    ];
    
    // 通过模板来初始化菜单 
    const menu = Menu.buildFromTemplate(template);
    
    // 设置应用菜单
    Menu.setApplicationMenu(menu);
}
```

3. 在应用初始化完成的时候打开主界面同时初始化菜单:
```
app.on('ready', () => {
    createWindow();
    initMenu();
});
```

## 总结

上面的工作完成后，通过 `npm start` 来看看，菜单已经添加完成

